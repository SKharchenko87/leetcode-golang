package p3010

import "testing"

func Test_minimumCost(t *testing.T) {
	type args struct {
		nums []int
	}
	tests := []struct {
		name string
		args args
		want int
	}{
		{"Example 1", args{nums: []int{1, 2, 3, 12}}, 6},
		{"Example 2", args{nums: []int{5, 4, 3}}, 12},
		{"Example 3", args{nums: []int{10, 3, 1, 1}}, 12},
		{"My 1", args{nums: []int{1, 9038, 1463, 8553, 924, 1510, 4760, 7755, 7068, 6315, 1339, 1816, 5991, 3109, 9055, 6413, 6172, 5751, 7881, 6953, 9395, 4403, 6329, 5769, 3311, 4385, 7798, 669, 8304, 8425, 3732, 3156, 7994, 684, 3077, 8830, 4377, 7611, 2643, 4913, 3338, 7567, 459, 2999, 2688, 5347, 3351, 7514, 8232, 3657, 2791, 5007, 7380, 7591, 5445, 6851, 6280, 4139, 1546, 6178, 2118, 9335, 6138, 6055, 7155, 4834, 146, 156, 729, 7532, 3949, 259, 3773, 4917, 3746, 5426, 5167, 8456, 8731, 3972, 6442, 6184, 2667, 2656, 2594, 8538, 9381, 1278, 8221, 8165, 691, 1166, 2565, 1216, 8567, 6369, 9685, 8771, 6903, 5648, 3160, 3914, 7703, 155, 5704, 3001, 990, 8766, 3341, 1378, 8459, 7890, 3263, 8608, 753, 94, 6659, 793, 6249, 989, 3817, 8408, 4634, 7843, 3975, 4776, 2633, 6043, 2524, 8414, 6645, 4320, 2643, 9165, 9893, 9387, 1043, 1855, 9699, 6286, 8988, 1177, 5192, 5261, 7101, 6380, 9184, 3924, 7207, 6025, 8965, 4575, 4221, 7900, 1813, 1936, 6526, 6701, 3152, 1403, 7557, 6413, 184, 5057, 4774, 5711, 9820, 1214, 7728, 227, 8908, 9866, 9186, 6597, 6432, 5096, 2300, 2564, 2459, 2374, 2444, 4930, 8616, 6439, 5762, 5966, 9379, 7932, 3490, 8169, 5925, 2105, 8165, 2082, 7686, 4910, 3071, 440, 1901, 4110, 7277, 9306, 7401, 2005, 4267, 9019, 2134, 4478, 7941, 8193, 5957, 220, 7221, 2278, 7022, 1446, 1243, 8313, 6925, 6457, 7213, 3073, 2896, 6092, 7146, 3580, 6136, 8024, 3270, 6509, 9077, 2019, 9128, 9961, 9483, 2915, 6860, 6172, 7655, 1941, 9457, 2500, 1128, 8521, 1953, 938, 684, 5768, 1714, 9467, 984, 9549, 5315, 1611, 4160, 5575, 6245, 3792, 825, 7650, 9716, 6834, 9830, 7820, 9096, 3715, 8327, 4722, 8841, 9146, 4693, 5121, 6908, 3343, 7025, 49, 2072, 6947, 1434, 4549, 2309, 7597, 1243, 4049, 678, 2556, 2723, 5654, 5061, 7873, 6369, 7626, 7934, 4495, 584, 1446, 2274, 3888, 4694, 4232, 1792, 9504, 3099, 4685, 6797, 784, 3294, 1681, 7937, 267, 4037, 8970, 878, 6994, 4672, 2093, 4175, 857, 6118, 5687, 5748, 2962, 5674, 8163, 6629, 366, 3438, 632, 2183, 2287, 4386, 2966, 3595, 1644, 3078, 9976, 1136, 414, 5575, 3738, 742, 6645, 8025, 7185, 6070, 1050, 334, 9684, 3167, 8190, 7499, 7539, 8487, 7095, 3486, 6227, 1769, 3841, 8771, 1454, 4181, 2973, 1118, 1668, 7673, 2261, 7127, 4374, 9, 9264, 2608, 7647, 9339, 2032, 82, 7834, 3017, 9685, 2493, 5833, 3848, 2603, 5937, 5477, 8230, 3120, 7695, 3835, 9771, 6602, 791, 2729, 7810, 354, 1904, 1419, 5723, 2821, 2793, 597, 3901, 4346, 9087, 3311, 4640, 9400, 4371, 1607, 7137, 7703, 7626, 8658, 5049, 6348, 3814, 3450, 9029, 6142, 693, 2048, 2582, 9065, 6408, 6084, 6855, 5330, 8551, 2084, 7912, 1629, 8303, 3718, 686, 4156, 9446, 3861, 2262, 4538, 9523, 4350, 2169, 6615, 697, 3381, 6945, 6158, 6759, 7698, 9670, 2059, 7652, 8974, 9077, 2882, 6386, 2297, 7451, 2230, 249, 4055, 6987, 6915, 2114, 5721, 8589, 8943, 7929, 5735, 2869, 2947, 5902, 3255, 601, 1140, 3403, 861, 9067, 7799, 550, 7974, 7193, 3946, 6434, 2568, 19, 3348, 3340, 818, 8077, 2240, 8628, 5608, 2440, 4275, 5167, 4793, 9215, 9503, 8814, 9060, 8796, 8098, 1543, 7023, 707, 3683, 6377, 3213, 9476, 1394, 4102, 8677, 4577, 3918, 2758, 9729, 4295, 4679, 2220, 3063, 15, 2231, 2672, 5378, 383, 8857, 1704, 1245, 9213, 7898, 7613, 9142, 1285, 8734, 8637, 9335, 7233, 9055, 1408, 8325, 6808, 4494, 8523, 3147, 2122, 4855, 4634, 6877, 2471, 6500, 6548, 1776, 9561, 2142, 4789, 7060, 639, 5835, 6882, 3298, 7038, 9490, 7762, 4317, 6788, 386, 2569, 548, 2442, 7736, 1841, 9615, 5107, 8292, 3900, 2330, 7572, 4929, 6976, 7471, 1411, 6137, 2409, 1719, 5929, 9904, 4537, 2876, 3411, 4022, 689, 6823, 4378, 2698, 2445, 7322, 7003, 695, 3418, 9185, 139, 5278, 2502, 2262, 8210, 5539, 6025, 6518, 2468, 9515, 2727, 137, 4389, 2324, 3698, 4988, 7045, 9059, 4539, 4460, 8756, 8345, 1365, 9383, 7764, 9505, 9854, 3167, 9506, 230, 7024, 6393, 4065, 8592, 8104, 3298, 5284, 1823, 385, 7247, 470, 8962, 407, 7223, 3529, 9666, 6473, 3294, 1949, 6261, 5814, 7103, 1072, 5931, 5032, 2058, 8251, 8183, 8882, 5293, 4570, 8900, 6152, 3101, 3311, 7817, 6102, 2614, 672, 8675, 4976, 6148, 4162, 4572, 7731, 5661, 86, 2915, 8976, 4694, 7770, 8578, 4618, 8592, 3103, 8571, 6815, 8020, 1678, 8098, 7367, 2080, 5603, 7690, 5681, 67, 9766, 444, 9126, 7156, 727, 2961, 3428, 9147, 8765, 1517, 3313, 7052, 5875, 510, 1067, 9594, 129, 9752, 7142, 6459, 4017, 7935, 1542, 6050, 8930, 5777, 1476, 8363, 5368, 2740, 3037, 7756, 2335, 3174, 8387, 649, 297, 7699, 4711, 8411, 8353, 9786, 4205, 2254, 1258, 3761, 7759, 7045, 1749, 5795, 1466, 6758, 7624, 106, 6248, 9982, 2176, 9078, 6972, 3542, 1177, 3217, 4667, 7802, 5800, 5354, 2998, 5121, 8370, 3649, 7991, 8528, 5055, 2818, 3584, 10, 9298, 5346, 1571, 2633, 669, 2426, 2708, 7169, 9452, 2817, 4170, 6489, 9813, 6584, 2121, 4982, 4788, 8345, 2982, 1629, 7661, 2974, 4961, 8881, 3618, 5322, 2872, 6098, 7033, 3956, 8424, 6859, 649, 2585, 3419, 1039, 8753, 7904, 7246, 3485, 6743, 376, 8529, 3960, 2806, 8423, 9126, 4080, 9646, 525, 9774, 9691, 8243, 8239, 6357, 605, 3922, 5868, 3900, 9599, 1193, 2928, 305, 4510, 1474, 4181, 7461, 3289, 3156, 4382, 3931, 72, 4715, 3779, 9753, 4157, 9331, 5925, 3973, 8165, 7427, 4102, 8766, 9113, 2904, 291, 55, 9168, 298, 1768, 3837, 7725, 509, 9851, 2648, 4085, 2427, 7307, 1608, 6327, 151, 2450, 2363, 1345, 1118, 7870, 4648, 9772, 230, 2216, 7075, 4105, 6488, 2375, 5189, 7982, 1480, 1105, 5519, 4298, 7089, 4954, 3413, 5907, 3375, 8673, 52, 3328, 4666, 1155, 3148, 7835, 4004, 2495, 4189, 3901, 5536, 9154, 1398, 4504, 4963, 8287, 4216, 5378, 8141, 6300, 7969, 6902, 8691, 1698, 9743, 2401, 84, 7064, 545, 5256, 5925, 5296, 1527, 6946, 2226, 7226, 8513, 5129, 9788, 4018, 7733, 6268, 291, 3764, 272, 5026, 3047, 9677, 325, 514, 5229, 168, 2435, 4566, 503, 5683, 240, 7173, 7148, 4355, 4253, 5447, 4231, 3404, 4716, 6025, 3691, 6581, 2817, 8363, 888, 8581, 9092, 3785, 2397, 4306, 7821, 6965, 7858, 2104, 7470, 6373, 8371, 5662, 436, 4240, 1559, 8527, 5896, 6268, 6350, 4109, 9168, 7972, 899, 6603, 7878, 9504, 1658, 4787, 5120, 3434}}, 20},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			if got := minimumCost(tt.args.nums); got != tt.want {
				t.Errorf("minimumCost() = %v, want %v", got, tt.want)
			}
		})
	}
}

func bench(f func([]int) int, b *testing.B) {
	b.ReportAllocs()
	for i := 0; i < b.N; i++ {
		f([]int{1, 9038, 1463, 8553, 924, 1510, 4760, 7755, 7068, 6315, 1339, 1816, 5991, 3109, 9055, 6413, 6172, 5751, 7881, 6953, 9395, 4403, 6329, 5769, 3311, 4385, 7798, 669, 8304, 8425, 3732, 3156, 7994, 684, 3077, 8830, 4377, 7611, 2643, 4913, 3338, 7567, 459, 2999, 2688, 5347, 3351, 7514, 8232, 3657, 2791, 5007, 7380, 7591, 5445, 6851, 6280, 4139, 1546, 6178, 2118, 9335, 6138, 6055, 7155, 4834, 146, 156, 729, 7532, 3949, 259, 3773, 4917, 3746, 5426, 5167, 8456, 8731, 3972, 6442, 6184, 2667, 2656, 2594, 8538, 9381, 1278, 8221, 8165, 691, 1166, 2565, 1216, 8567, 6369, 9685, 8771, 6903, 5648, 3160, 3914, 7703, 155, 5704, 3001, 990, 8766, 3341, 1378, 8459, 7890, 3263, 8608, 753, 94, 6659, 793, 6249, 989, 3817, 8408, 4634, 7843, 3975, 4776, 2633, 6043, 2524, 8414, 6645, 4320, 2643, 9165, 9893, 9387, 1043, 1855, 9699, 6286, 8988, 1177, 5192, 5261, 7101, 6380, 9184, 3924, 7207, 6025, 8965, 4575, 4221, 7900, 1813, 1936, 6526, 6701, 3152, 1403, 7557, 6413, 184, 5057, 4774, 5711, 9820, 1214, 7728, 227, 8908, 9866, 9186, 6597, 6432, 5096, 2300, 2564, 2459, 2374, 2444, 4930, 8616, 6439, 5762, 5966, 9379, 7932, 3490, 8169, 5925, 2105, 8165, 2082, 7686, 4910, 3071, 440, 1901, 4110, 7277, 9306, 7401, 2005, 4267, 9019, 2134, 4478, 7941, 8193, 5957, 220, 7221, 2278, 7022, 1446, 1243, 8313, 6925, 6457, 7213, 3073, 2896, 6092, 7146, 3580, 6136, 8024, 3270, 6509, 9077, 2019, 9128, 9961, 9483, 2915, 6860, 6172, 7655, 1941, 9457, 2500, 1128, 8521, 1953, 938, 684, 5768, 1714, 9467, 984, 9549, 5315, 1611, 4160, 5575, 6245, 3792, 825, 7650, 9716, 6834, 9830, 7820, 9096, 3715, 8327, 4722, 8841, 9146, 4693, 5121, 6908, 3343, 7025, 49, 2072, 6947, 1434, 4549, 2309, 7597, 1243, 4049, 678, 2556, 2723, 5654, 5061, 7873, 6369, 7626, 7934, 4495, 584, 1446, 2274, 3888, 4694, 4232, 1792, 9504, 3099, 4685, 6797, 784, 3294, 1681, 7937, 267, 4037, 8970, 878, 6994, 4672, 2093, 4175, 857, 6118, 5687, 5748, 2962, 5674, 8163, 6629, 366, 3438, 632, 2183, 2287, 4386, 2966, 3595, 1644, 3078, 9976, 1136, 414, 5575, 3738, 742, 6645, 8025, 7185, 6070, 1050, 334, 9684, 3167, 8190, 7499, 7539, 8487, 7095, 3486, 6227, 1769, 3841, 8771, 1454, 4181, 2973, 1118, 1668, 7673, 2261, 7127, 4374, 9, 9264, 2608, 7647, 9339, 2032, 82, 7834, 3017, 9685, 2493, 5833, 3848, 2603, 5937, 5477, 8230, 3120, 7695, 3835, 9771, 6602, 791, 2729, 7810, 354, 1904, 1419, 5723, 2821, 2793, 597, 3901, 4346, 9087, 3311, 4640, 9400, 4371, 1607, 7137, 7703, 7626, 8658, 5049, 6348, 3814, 3450, 9029, 6142, 693, 2048, 2582, 9065, 6408, 6084, 6855, 5330, 8551, 2084, 7912, 1629, 8303, 3718, 686, 4156, 9446, 3861, 2262, 4538, 9523, 4350, 2169, 6615, 697, 3381, 6945, 6158, 6759, 7698, 9670, 2059, 7652, 8974, 9077, 2882, 6386, 2297, 7451, 2230, 249, 4055, 6987, 6915, 2114, 5721, 8589, 8943, 7929, 5735, 2869, 2947, 5902, 3255, 601, 1140, 3403, 861, 9067, 7799, 550, 7974, 7193, 3946, 6434, 2568, 19, 3348, 3340, 818, 8077, 2240, 8628, 5608, 2440, 4275, 5167, 4793, 9215, 9503, 8814, 9060, 8796, 8098, 1543, 7023, 707, 3683, 6377, 3213, 9476, 1394, 4102, 8677, 4577, 3918, 2758, 9729, 4295, 4679, 2220, 3063, 15, 2231, 2672, 5378, 383, 8857, 1704, 1245, 9213, 7898, 7613, 9142, 1285, 8734, 8637, 9335, 7233, 9055, 1408, 8325, 6808, 4494, 8523, 3147, 2122, 4855, 4634, 6877, 2471, 6500, 6548, 1776, 9561, 2142, 4789, 7060, 639, 5835, 6882, 3298, 7038, 9490, 7762, 4317, 6788, 386, 2569, 548, 2442, 7736, 1841, 9615, 5107, 8292, 3900, 2330, 7572, 4929, 6976, 7471, 1411, 6137, 2409, 1719, 5929, 9904, 4537, 2876, 3411, 4022, 689, 6823, 4378, 2698, 2445, 7322, 7003, 695, 3418, 9185, 139, 5278, 2502, 2262, 8210, 5539, 6025, 6518, 2468, 9515, 2727, 137, 4389, 2324, 3698, 4988, 7045, 9059, 4539, 4460, 8756, 8345, 1365, 9383, 7764, 9505, 9854, 3167, 9506, 230, 7024, 6393, 4065, 8592, 8104, 3298, 5284, 1823, 385, 7247, 470, 8962, 407, 7223, 3529, 9666, 6473, 3294, 1949, 6261, 5814, 7103, 1072, 5931, 5032, 2058, 8251, 8183, 8882, 5293, 4570, 8900, 6152, 3101, 3311, 7817, 6102, 2614, 672, 8675, 4976, 6148, 4162, 4572, 7731, 5661, 86, 2915, 8976, 4694, 7770, 8578, 4618, 8592, 3103, 8571, 6815, 8020, 1678, 8098, 7367, 2080, 5603, 7690, 5681, 67, 9766, 444, 9126, 7156, 727, 2961, 3428, 9147, 8765, 1517, 3313, 7052, 5875, 510, 1067, 9594, 129, 9752, 7142, 6459, 4017, 7935, 1542, 6050, 8930, 5777, 1476, 8363, 5368, 2740, 3037, 7756, 2335, 3174, 8387, 649, 297, 7699, 4711, 8411, 8353, 9786, 4205, 2254, 1258, 3761, 7759, 7045, 1749, 5795, 1466, 6758, 7624, 106, 6248, 9982, 2176, 9078, 6972, 3542, 1177, 3217, 4667, 7802, 5800, 5354, 2998, 5121, 8370, 3649, 7991, 8528, 5055, 2818, 3584, 10, 9298, 5346, 1571, 2633, 669, 2426, 2708, 7169, 9452, 2817, 4170, 6489, 9813, 6584, 2121, 4982, 4788, 8345, 2982, 1629, 7661, 2974, 4961, 8881, 3618, 5322, 2872, 6098, 7033, 3956, 8424, 6859, 649, 2585, 3419, 1039, 8753, 7904, 7246, 3485, 6743, 376, 8529, 3960, 2806, 8423, 9126, 4080, 9646, 525, 9774, 9691, 8243, 8239, 6357, 605, 3922, 5868, 3900, 9599, 1193, 2928, 305, 4510, 1474, 4181, 7461, 3289, 3156, 4382, 3931, 72, 4715, 3779, 9753, 4157, 9331, 5925, 3973, 8165, 7427, 4102, 8766, 9113, 2904, 291, 55, 9168, 298, 1768, 3837, 7725, 509, 9851, 2648, 4085, 2427, 7307, 1608, 6327, 151, 2450, 2363, 1345, 1118, 7870, 4648, 9772, 230, 2216, 7075, 4105, 6488, 2375, 5189, 7982, 1480, 1105, 5519, 4298, 7089, 4954, 3413, 5907, 3375, 8673, 52, 3328, 4666, 1155, 3148, 7835, 4004, 2495, 4189, 3901, 5536, 9154, 1398, 4504, 4963, 8287, 4216, 5378, 8141, 6300, 7969, 6902, 8691, 1698, 9743, 2401, 84, 7064, 545, 5256, 5925, 5296, 1527, 6946, 2226, 7226, 8513, 5129, 9788, 4018, 7733, 6268, 291, 3764, 272, 5026, 3047, 9677, 325, 514, 5229, 168, 2435, 4566, 503, 5683, 240, 7173, 7148, 4355, 4253, 5447, 4231, 3404, 4716, 6025, 3691, 6581, 2817, 8363, 888, 8581, 9092, 3785, 2397, 4306, 7821, 6965, 7858, 2104, 7470, 6373, 8371, 5662, 436, 4240, 1559, 8527, 5896, 6268, 6350, 4109, 9168, 7972, 899, 6603, 7878, 9504, 1658, 4787, 5120, 3434})
	}
}

func Benchmark_minimumCost(b *testing.B) {
	bench(minimumCost, b)
}

func Benchmark_minimumCost0(b *testing.B) {
	bench(minimumCost0, b)
}
